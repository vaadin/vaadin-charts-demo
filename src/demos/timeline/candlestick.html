<dom-module id="candlestick-example">
  <template>
    <iron-ajax
            auto
            id="dataFetcher"
            url="[[_resolveDataURL('ohlc_data')]]"
            handle-as="json"
            last-response="{{seriesData}}"></iron-ajax>
    <vaadin-candlestick-chart id="candlestick-series" timeline>
      <chart-title>AAPL Stock Price</chart-title>
      <range-selector selected="1">
      </range-selector>
      <data-series name="AAPL Stock Price" data="[[seriesData]]">
        <data-grouping>
          <units>
            <name>week</name>
            <multiples>[3]</multiples>
          </units>
          <units>
            <name>month</name>
            <multiples>[1, 2, 3, 4, 6]</multiples>
          </units>
        </data-grouping>
      </data-series>
    </vaadin-candlestick-chart>
  </template>
  <script>
    Polymer({
      is: 'candlestick-example',

      _resolveDataURL: function (fileName){
        return this.resolveUrl("sample_data/" +fileName);
      }
    });
  </script>
</dom-module>
<candlestick-example></candlestick-example>